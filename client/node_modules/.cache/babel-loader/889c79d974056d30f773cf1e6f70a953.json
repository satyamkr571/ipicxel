{"ast":null,"code":"import React, { Component, PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport FocusTrap from 'focus-trap-react';\nimport { Portal } from 'react-portal';\nimport omit from 'lodash/omit';\nimport classnames from 'classnames';\nimport { forbidExtraProps, nonNegativeInteger } from 'airbnb-prop-types';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar classCallCheck = _classCallCheck;\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar createClass = _createClass;\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar assertThisInitialized = _assertThisInitialized;\n\nfunction createCommonjsModule(fn, basedir, module) {\n  return module = {\n    path: basedir,\n    exports: {},\n    require: function (path, base) {\n      return commonjsRequire(path, base === undefined || base === null ? module.path : base);\n    }\n  }, fn(module, module.exports), module.exports;\n}\n\nfunction commonjsRequire() {\n  throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nvar setPrototypeOf = createCommonjsModule(function (module) {\n  function _setPrototypeOf(o, p) {\n    module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  module.exports = _setPrototypeOf;\n});\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nvar inherits = _inherits;\n\nvar _typeof_1 = createCommonjsModule(function (module) {\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      module.exports = _typeof = function _typeof(obj) {\n        return typeof obj;\n      };\n    } else {\n      module.exports = _typeof = function _typeof(obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  module.exports = _typeof;\n});\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof_1(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nvar possibleConstructorReturn = _possibleConstructorReturn;\nvar getPrototypeOf = createCommonjsModule(function (module) {\n  function _getPrototypeOf(o) {\n    module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  module.exports = _getPrototypeOf;\n});\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defineProperty = _defineProperty;\nvar DIRECTION_PREV = 'prev';\nvar DIRECTION_NEXT = 'next';\nvar FORWARDS = 'forwards';\nvar BACKWARDS = 'backwards';\nvar ARROW_LEFT_KEYCODE = 37;\nvar ARROW_RIGHT_KEYCODE = 39;\nvar ESC_KEYCODE = 27;\nvar THUMBNAIL_WIDTH = 58;\nvar THUMBNAIL_HEIGHT = 50;\nvar THUMBNAIL_OFFSET = 8;\nvar DEFAULT_OPACITY = 1;\nvar DEFAULT_COLOR = 'rgba(0,0,0,1)';\nvar NORMAL_COLOR = 'rgba(255,255,255,1)';\nvar INVERSE_COLOR = 'rgba(1,1,1,1)';\nvar DEFAULT_Z_INDEX = 2000;\nvar defaultPhotoProps = {\n  photo: undefined,\n  number: undefined,\n  caption: undefined,\n  subcaption: undefined,\n  thumbnail: undefined\n};\nvar SlideDirectionShape = PropTypes.oneOf([FORWARDS, BACKWARDS]);\nvar PhotoShape = PropTypes.shape({\n  photo: PropTypes.string.isRequired,\n  number: PropTypes.number,\n  caption: PropTypes.string,\n  subcaption: PropTypes.string,\n  thumbnail: PropTypes.string\n});\nvar PhotosShape = PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.arrayOf(PropTypes.string.isRequired), PropTypes.arrayOf(PhotoShape)]);\nvar noPhotosProvided = 'No photos to show';\nvar showPhotoList = 'Show photo list';\nvar hidePhotoList = 'Hide photo list';\nvar defaultPhrases = {\n  noPhotosProvided: noPhotosProvided,\n  showPhotoList: showPhotoList,\n  hidePhotoList: hidePhotoList\n};\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction defaultPhrases$1() {\n  return Object.keys(defaultPhrases$1).reduce(function (phrases, key) {\n    return _objectSpread(_objectSpread({}, phrases), {}, defineProperty({}, key, PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.node])));\n  }, {});\n}\n\nvar galleryPropTypes = forbidExtraProps({\n  activePhotoIndex: nonNegativeInteger,\n  activePhotoPressed: PropTypes.func,\n  direction: SlideDirectionShape,\n  nextButtonPressed: PropTypes.func,\n  prevButtonPressed: PropTypes.func,\n  showThumbnails: PropTypes.bool,\n  photos: PhotosShape,\n  preloadSize: nonNegativeInteger,\n  wrap: PropTypes.bool,\n  phrases: PropTypes.shape(defaultPhrases$1()),\n  light: PropTypes.bool,\n  backgroundColor: PropTypes.string\n});\n\nvar noop = function () {};\n\nvar galleryDefaultProps = {\n  activePhotoIndex: 0,\n  activePhotoPressed: noop,\n  direction: FORWARDS,\n  nextButtonPressed: noop,\n  prevButtonPressed: noop,\n  showThumbnails: true,\n  photos: [],\n  preloadSize: 5,\n  wrap: false,\n  phrases: defaultPhrases,\n  light: false,\n  backgroundColor: DEFAULT_COLOR\n};\nvar imagePropTypes = forbidExtraProps({\n  onLoad: PropTypes.func,\n  onError: PropTypes.func\n});\nvar imageDefaultProps = {\n  onLoad: noop,\n  onError: noop\n};\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar objectWithoutPropertiesLoose = _objectWithoutPropertiesLoose;\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar objectWithoutProperties = _objectWithoutProperties;\nvar propTypes = forbidExtraProps({\n  show: PropTypes.bool\n});\nvar defaultProps = {\n  show: true\n};\n\nvar LoadingSpinner = function LoadingSpinner(_ref) {\n  var show = _ref.show;\n  return show && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading-spinner\"\n  });\n};\n\nLoadingSpinner.propTypes = propTypes;\nLoadingSpinner.defaultProps = defaultProps;\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$1(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$1(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar propTypes$1 = forbidExtraProps(_objectSpread$1(_objectSpread$1({}, imagePropTypes), {}, {\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  style: PropTypes.object,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}));\n\nvar defaultProps$1 = _objectSpread$1(_objectSpread$1({}, imageDefaultProps), {}, {\n  style: null,\n  className: null,\n  alt: ''\n});\n\nvar defaultState = {\n  loading: true,\n  withError: false\n};\n\nvar Image = /*#__PURE__*/function (_Component) {\n  inherits(Image, _Component);\n\n  var _super = _createSuper(Image);\n\n  function Image(props) {\n    var _this;\n\n    classCallCheck(this, Image);\n    _this = _super.call(this, props);\n    var src = props.src;\n    _this.state = _objectSpread$1({\n      currentSrc: src\n    }, defaultState);\n    _this.onLoad = _this.onLoad.bind(assertThisInitialized(_this));\n    _this.onError = _this.onError.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Image, [{\n    key: \"onLoad\",\n    value: function onLoad() {\n      var onLoad = this.props.onLoad;\n      onLoad();\n      this.setState({\n        loading: false,\n        withError: false\n      });\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      var onError = this.props.onError;\n      onError();\n      this.setState({\n        loading: false,\n        withError: true\n      });\n    }\n  }, {\n    key: \"renderImage\",\n    value: function renderImage() {\n      var _this$props = this.props,\n          alt = _this$props.alt,\n          src = _this$props.src,\n          style = _this$props.style,\n          className = _this$props.className;\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          withError = _this$state.withError;\n      var classNames = [className, 'media-image'];\n      var components = []; // the loading spinner\n      // TODO: make this 'LoadingSpinner' component customizable\n\n      if (loading) {\n        components.push( /*#__PURE__*/React.createElement(LoadingSpinner, {\n          key: \".pictureLoadingSpinner\"\n        }));\n      } // if no loading, then return the\n      // picture only if no error ocurred\n\n\n      if (!withError) {\n        components.push( /*#__PURE__*/React.createElement(\"img\", {\n          alt: alt,\n          key: \".pictureComponent\",\n          className: classnames(classNames),\n          onLoad: this.onLoad,\n          onError: this.onError,\n          src: src,\n          style: style\n        }));\n      } // TODO: show a custom message indicating the\n      // error ocurred while loading the picture\n\n\n      return components;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loading = this.state.loading;\n      var wrapperClassNames = ['picture', loading && 'loading']; // render the picture element\n\n      var picture = this.renderImage();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames(wrapperClassNames)\n      }, picture);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var src = nextProps.src;\n      var currentSrc = prevState.currentSrc;\n\n      if (src !== currentSrc) {\n        return _objectSpread$1({\n          currentSrc: src\n        }, defaultState);\n      }\n\n      return null;\n    }\n  }]);\n  return Image;\n}(Component);\n\nImage.propTypes = propTypes$1;\nImage.defaultProps = defaultProps$1;\n\nfunction _createSuper$1(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$1();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$1() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$2(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$2(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar propTypes$2 = forbidExtraProps(_objectSpread$2(_objectSpread$2({}, imagePropTypes), {}, {\n  photo: PhotoShape,\n  onPress: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func\n}));\n\nvar defaultProps$2 = _objectSpread$2(_objectSpread$2({}, imageDefaultProps), {}, {\n  photo: null,\n  onPress: noop,\n  onTouchStart: noop,\n  onTouchMove: noop,\n  onTouchEnd: noop\n});\n\nvar Photo = /*#__PURE__*/function (_PureComponent) {\n  inherits(Photo, _PureComponent);\n\n  var _super = _createSuper$1(Photo);\n\n  function Photo(props) {\n    var _this;\n\n    classCallCheck(this, Photo);\n    _this = _super.call(this, props);\n    _this.onPress = _this.onPress.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Photo, [{\n    key: \"onPress\",\n    value: function onPress() {\n      var onPress = this.props.onPress;\n      onPress();\n    }\n  }, {\n    key: \"renderPhoto\",\n    value: function renderPhoto() {\n      var _this$props = this.props,\n          photo = _this$props.photo,\n          onTouchStart = _this$props.onTouchStart,\n          onTouchMove = _this$props.onTouchMove,\n          onTouchEnd = _this$props.onTouchEnd,\n          rest = objectWithoutProperties(_this$props, [\"photo\", \"onTouchStart\", \"onTouchMove\", \"onTouchEnd\"]);\n\n      if (!photo) {\n        return null;\n      }\n\n      var _omit = omit(rest, ['onPress']),\n          onLoad = _omit.onLoad,\n          onError = _omit.onError,\n          style = _omit.style;\n\n      return /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.onPress,\n        className: \"photo-button\",\n        onTouchStart: onTouchStart,\n        onTouchMove: onTouchMove,\n        onTouchEnd: onTouchEnd\n      }, /*#__PURE__*/React.createElement(Image, {\n        alt: photo.caption || '',\n        className: \"photo\",\n        src: photo.photo,\n        onLoad: onLoad,\n        onError: onError,\n        style: style\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = classnames('gallery-media-photo', 'gallery-media-photo--block', 'gallery-media-cover');\n      var photoRendered = this.renderPhoto();\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"gallery-images--ul\"\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: className\n      }, photoRendered));\n    }\n  }]);\n  return Photo;\n}(PureComponent);\n\nPhoto.propTypes = propTypes$2;\nPhoto.defaultProps = defaultProps$2;\n\nfunction _createSuper$2(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$2();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$2() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar thumbnailStyle = {\n  width: THUMBNAIL_WIDTH,\n  height: THUMBNAIL_HEIGHT\n};\nvar propTypes$3 = forbidExtraProps({\n  active: PropTypes.bool,\n  photo: PhotoShape,\n  onPress: PropTypes.func,\n  number: nonNegativeInteger\n});\nvar defaultProps$3 = {\n  active: false,\n  photo: null,\n  onPress: noop,\n  number: 0\n};\n\nvar Thumbnail = /*#__PURE__*/function (_PureComponent) {\n  inherits(Thumbnail, _PureComponent);\n\n  var _super = _createSuper$2(Thumbnail);\n\n  function Thumbnail() {\n    classCallCheck(this, Thumbnail);\n    return _super.apply(this, arguments);\n  }\n\n  createClass(Thumbnail, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          active = _this$props.active,\n          photo = _this$props.photo,\n          onPress = _this$props.onPress,\n          number = _this$props.number;\n      var className = classnames('thumbnail-button', active && 'active');\n      return /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        \"aria-label\": photo.caption,\n        className: className,\n        \"data-photo-index\": number,\n        onClick: onPress,\n        disabled: false\n      }, /*#__PURE__*/React.createElement(Image, {\n        alt: photo.caption,\n        src: photo.thumbnail || photo.photo,\n        className: \"thumbnail\",\n        style: thumbnailStyle\n      }));\n    }\n  }]);\n  return Thumbnail;\n}(PureComponent);\n\nThumbnail.propTypes = propTypes$3;\nThumbnail.defaultProps = defaultProps$3;\n\nfunction _createSuper$3(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$3();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$3() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar propTypes$4 = forbidExtraProps({\n  isOpened: PropTypes.bool,\n  onPress: PropTypes.func,\n  phrases: PropTypes.shape(defaultPhrases$1())\n});\nvar defaultProps$4 = {\n  isOpened: true,\n  onPress: noop,\n  phrases: defaultPhrases\n};\n\nvar TogglePhotoList = /*#__PURE__*/function (_PureComponent) {\n  inherits(TogglePhotoList, _PureComponent);\n\n  var _super = _createSuper$3(TogglePhotoList);\n\n  function TogglePhotoList() {\n    classCallCheck(this, TogglePhotoList);\n    return _super.apply(this, arguments);\n  }\n\n  createClass(TogglePhotoList, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          isOpened = _this$props.isOpened,\n          onPress = _this$props.onPress,\n          _this$props$phrases = _this$props.phrases,\n          showLabel = _this$props$phrases.showPhotoList,\n          hideLabel = _this$props$phrases.hidePhotoList;\n      var label = isOpened ? hideLabel : showLabel;\n      var className = classnames('gallery-thumbnails--toggle', isOpened ? 'hide' : 'open');\n      return /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: className,\n        onClick: onPress\n      }, label);\n    }\n  }]);\n  return TogglePhotoList;\n}(PureComponent);\n\nTogglePhotoList.propTypes = propTypes$4;\nTogglePhotoList.defaultProps = defaultProps$4;\n\nfunction calculateThumbnailsContainerDimension(total) {\n  return THUMBNAIL_WIDTH * total + (THUMBNAIL_OFFSET * total - THUMBNAIL_OFFSET);\n}\n\nfunction calculateThumbnailsLeftScroll(current, total, bounding) {\n  var half = bounding.width / 2 - THUMBNAIL_WIDTH / 2;\n  var thumbnailsOffset = current * THUMBNAIL_WIDTH + current * THUMBNAIL_OFFSET - half;\n  var calculatedScrollLeft = 0;\n\n  if (thumbnailsOffset < 0) {\n    return calculatedScrollLeft;\n  }\n\n  var thumbnailsPerRow = bounding.width / (THUMBNAIL_WIDTH + THUMBNAIL_OFFSET);\n  var thumbnailsHalf = Math.round(thumbnailsPerRow / 2);\n  var thumbnailsLeft = total - (current + 1);\n\n  if (thumbnailsLeft < thumbnailsHalf) {\n    calculatedScrollLeft = calculateThumbnailsContainerDimension(total) - bounding.width;\n  } else {\n    calculatedScrollLeft = thumbnailsOffset;\n  }\n\n  return -Math.abs(calculatedScrollLeft);\n}\n\nfunction _createSuper$4(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$4();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$4() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar propTypes$5 = forbidExtraProps({\n  showThumbnails: PropTypes.bool,\n  current: nonNegativeInteger,\n  photos: PhotosShape,\n  onPress: PropTypes.func,\n  phrases: PropTypes.shape(defaultPhrases$1())\n});\nvar defaultProps$5 = {\n  showThumbnails: true,\n  current: 0,\n  photos: [],\n  onPress: noop,\n  phrases: defaultPhrases\n};\n\nvar Caption = /*#__PURE__*/function (_PureComponent) {\n  inherits(Caption, _PureComponent);\n\n  var _super = _createSuper$4(Caption);\n\n  function Caption(props) {\n    var _this;\n\n    classCallCheck(this, Caption);\n    _this = _super.call(this, props);\n    var _this$props = _this.props,\n        showThumbnails = _this$props.showThumbnails,\n        photos = _this$props.photos;\n    _this.state = {\n      showThumbnails: showThumbnails\n    };\n    _this.thumbnailsWrapperRef = null;\n    _this.thumbnailsListRef = null;\n    _this.hasMoreThanOnePhoto = photos.length > 1;\n    _this.onThumbnailPress = _this.onThumbnailPress.bind(assertThisInitialized(_this));\n    _this.setGalleryFigcaptionRef = _this.setGalleryFigcaptionRef.bind(assertThisInitialized(_this));\n    _this.setGalleryThubmanilsRef = _this.setGalleryThubmanilsRef.bind(assertThisInitialized(_this));\n    _this.toggleThumbnails = _this.toggleThumbnails.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Caption, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var current = this.props.current;\n\n      if (current !== prevProps.current) {\n        this.setThumbnailsWrapperScrollLeft(current);\n      }\n    }\n  }, {\n    key: \"onThumbnailPress\",\n    value: function onThumbnailPress(event) {\n      var _this$props2 = this.props,\n          onPress = _this$props2.onPress,\n          photos = _this$props2.photos;\n      var index = parseInt(event.currentTarget.dataset.photoIndex, 10);\n\n      if (index >= 0 && index <= photos.length - 1) {\n        onPress(index);\n      }\n    }\n  }, {\n    key: \"setThumbnailsWrapperScrollLeft\",\n    value: function setThumbnailsWrapperScrollLeft(current) {\n      var photos = this.props.photos;\n      var bounding = this.thumbnailsWrapperRef.getBoundingClientRect();\n      var scrollLeft = calculateThumbnailsLeftScroll(current, photos.length, bounding);\n      this.thumbnailsListRef.style.marginLeft = \"\".concat(scrollLeft, \"px\");\n    }\n  }, {\n    key: \"getPhotoByIndex\",\n    value: function getPhotoByIndex(index) {\n      var photos = this.props.photos;\n      return photos[index];\n    }\n  }, {\n    key: \"setGalleryFigcaptionRef\",\n    value: function setGalleryFigcaptionRef(element) {\n      this.thumbnailsWrapperRef = element;\n    }\n  }, {\n    key: \"setGalleryThubmanilsRef\",\n    value: function setGalleryThubmanilsRef(element) {\n      this.thumbnailsListRef = element;\n    }\n  }, {\n    key: \"toggleThumbnails\",\n    value: function toggleThumbnails() {\n      this.setState(function (prevState) {\n        return {\n          showThumbnails: !prevState.showThumbnails\n        };\n      });\n    }\n  }, {\n    key: \"renderThumbnail\",\n    value: function renderThumbnail(photo, index, onPress) {\n      var current = this.props.current;\n      return /*#__PURE__*/React.createElement(Thumbnail, {\n        active: index === current,\n        photo: photo,\n        onPress: onPress,\n        number: index\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          current = _this$props3.current,\n          photos = _this$props3.photos,\n          phrases = _this$props3.phrases;\n      var showThumbnails = this.state.showThumbnails;\n      var className = classnames('gallery-figcaption', !showThumbnails && 'hide');\n      var currentPhoto = this.getPhotoByIndex(current);\n      var captionThumbnailsWrapperWidth = calculateThumbnailsContainerDimension(photos.length);\n      return /*#__PURE__*/React.createElement(\"figcaption\", {\n        className: className\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-figcaption--content\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-figcaption--inner\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-figcaption--info\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"caption-left\"\n      }, currentPhoto.caption && /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"photo-caption\"\n      }, currentPhoto.caption), currentPhoto.subcaption && /*#__PURE__*/React.createElement(\"p\", {\n        className: \"photo-subcaption\"\n      }, currentPhoto.subcaption)), this.hasMoreThanOnePhoto && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"caption-right\"\n      }, /*#__PURE__*/React.createElement(TogglePhotoList, {\n        phrases: phrases,\n        isOpened: showThumbnails,\n        onPress: this.toggleThumbnails\n      }))), this.hasMoreThanOnePhoto && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-figcaption--thumbnails\",\n        \"aria-hidden\": false,\n        ref: this.setGalleryFigcaptionRef\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"caption-thumbnails\",\n        style: {\n          width: captionThumbnailsWrapperWidth\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"thumbnails-list\",\n        ref: this.setGalleryThubmanilsRef\n      }, photos.map(function (photo, index) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: photo.photo\n        }, _this2.renderThumbnail(photo, index, _this2.onThumbnailPress));\n      })))))));\n    }\n  }]);\n  return Caption;\n}(PureComponent);\n\nCaption.propTypes = propTypes$5;\nCaption.defaultProps = defaultProps$5;\n\nfunction ownKeys$3(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$3(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$3(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper$5(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$5();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$5() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar controlStyle = {\n  height: '2.8em',\n  width: '2.8em',\n  fill: NORMAL_COLOR\n};\nvar controlStyleLight = {\n  fill: INVERSE_COLOR\n};\nvar propTypes$6 = forbidExtraProps({\n  arrow: PropTypes.string,\n  onPress: PropTypes.func,\n  label: PropTypes.string,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool\n});\nvar defaultProps$6 = {\n  arrow: null,\n  onPress: noop,\n  label: '',\n  className: null,\n  disabled: false,\n  light: false\n};\n\nvar Control = /*#__PURE__*/function (_React$PureComponent) {\n  inherits(Control, _React$PureComponent);\n\n  var _super = _createSuper$5(Control);\n\n  function Control(props) {\n    var _this;\n\n    classCallCheck(this, Control);\n    _this = _super.call(this, props);\n    _this.onButtonPress = _this.onButtonPress.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Control, [{\n    key: \"onButtonPress\",\n    value: function onButtonPress() {\n      var onPress = this.props.onPress;\n      onPress();\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          arrow = _this$props.arrow,\n          label = _this$props.label,\n          className = _this$props.className,\n          disabled = _this$props.disabled,\n          light = _this$props.light;\n      return /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: classnames('gallery-control', className),\n        onClick: this.onButtonPress,\n        disabled: disabled,\n        \"aria-label\": label\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        viewBox: \"0 0 18 18\",\n        role: \"presentation\",\n        focusable: \"false\",\n        \"aria-hidden\": \"true\",\n        style: _objectSpread$3(_objectSpread$3({}, controlStyle), light && controlStyleLight)\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: arrow,\n        fillRule: \"evenodd\"\n      })));\n    }\n  }]);\n  return Control;\n}(React.PureComponent);\n\nControl.propTypes = propTypes$6;\nControl.defaultProps = defaultProps$6;\n\nfunction _createSuper$6(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$6();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$6() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar PREV_ARROW = 'm13.7 16.29a1 1 0 1 1 -1.42 1.41l-8-8a1 1 0 0 1 0-1.41l8-8a1 1 0 1 1 1.42 1.41l-7.29 7.29z';\nvar propTypes$7 = forbidExtraProps({\n  onPress: PropTypes.func,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool\n});\nvar defaultProps$7 = {\n  onPress: noop,\n  disabled: false,\n  light: false\n};\n\nvar PrevButton = /*#__PURE__*/function (_PureComponent) {\n  inherits(PrevButton, _PureComponent);\n\n  var _super = _createSuper$6(PrevButton);\n\n  function PrevButton() {\n    classCallCheck(this, PrevButton);\n    return _super.apply(this, arguments);\n  }\n\n  createClass(PrevButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onPress = _this$props.onPress,\n          disabled = _this$props.disabled,\n          light = _this$props.light;\n      return /*#__PURE__*/React.createElement(Control, {\n        className: \"gallery-control--prev\",\n        onPress: onPress,\n        arrow: PREV_ARROW,\n        disabled: disabled,\n        light: light\n      });\n    }\n  }]);\n  return PrevButton;\n}(PureComponent);\n\nPrevButton.propTypes = propTypes$7;\nPrevButton.defaultProps = defaultProps$7;\n\nfunction _createSuper$7(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$7();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$7() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar NEXT_ARROW = 'm4.29 1.71a1 1 0 1 1 1.42-1.41l8 8a1 1 0 0 1 0 1.41l-8 8a1 1 0 1 1 -1.42-1.41l7.29-7.29z';\nvar propTypes$8 = forbidExtraProps({\n  onPress: PropTypes.func,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool\n});\nvar defaultProps$8 = {\n  onPress: noop,\n  disabled: false,\n  light: false\n};\n\nvar NextButton = /*#__PURE__*/function (_PureComponent) {\n  inherits(NextButton, _PureComponent);\n\n  var _super = _createSuper$7(NextButton);\n\n  function NextButton() {\n    classCallCheck(this, NextButton);\n    return _super.apply(this, arguments);\n  }\n\n  createClass(NextButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onPress = _this$props.onPress,\n          disabled = _this$props.disabled,\n          light = _this$props.light;\n      return /*#__PURE__*/React.createElement(Control, {\n        className: \"gallery-control--next\",\n        onPress: onPress,\n        arrow: NEXT_ARROW,\n        disabled: disabled,\n        light: light\n      });\n    }\n  }]);\n  return NextButton;\n}(PureComponent);\n\nNextButton.propTypes = propTypes$8;\nNextButton.defaultProps = defaultProps$8;\n\nfunction _createSuper$8(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$8();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$8() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction ownKeys$4(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$4(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$4(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar propTypes$9 = _objectSpread$4({}, galleryPropTypes);\n\nvar defaultProps$9 = _objectSpread$4({}, galleryDefaultProps);\n\nvar Gallery = /*#__PURE__*/function (_PureComponent) {\n  inherits(Gallery, _PureComponent);\n\n  var _super = _createSuper$8(Gallery);\n\n  function Gallery(props) {\n    var _this;\n\n    classCallCheck(this, Gallery);\n    _this = _super.call(this, props);\n    var _this$props = _this.props,\n        activePhotoIndex = _this$props.activePhotoIndex,\n        photos = _this$props.photos,\n        wrap = _this$props.wrap;\n    _this.state = {\n      activePhotoIndex: activePhotoIndex,\n      hidePrevButton: wrap && activePhotoIndex === 0,\n      hideNextButton: wrap && activePhotoIndex === photos.length - 1,\n      controlsDisabled: true,\n      touchStartInfo: null,\n      touchEndInfo: null,\n      touchMoved: false\n    };\n    _this.lastPreloadIndex = 0;\n    _this.preloadedPhotos = [];\n    _this.hasPhotos = photos.length > 0;\n    _this.hasMoreThanOnePhoto = photos.length > 1;\n    _this.move = _this.move.bind(assertThisInitialized(_this));\n    _this.prev = _this.prev.bind(assertThisInitialized(_this));\n    _this.next = _this.next.bind(assertThisInitialized(_this));\n    _this.onPhotoLoad = _this.onPhotoLoad.bind(assertThisInitialized(_this));\n    _this.onPhotoError = _this.onPhotoError.bind(assertThisInitialized(_this));\n    _this.onPhotoPress = _this.onPhotoPress.bind(assertThisInitialized(_this));\n    _this.onTouchStart = _this.onTouchStart.bind(assertThisInitialized(_this));\n    _this.onTouchMove = _this.onTouchMove.bind(assertThisInitialized(_this));\n    _this.onTouchEnd = _this.onTouchEnd.bind(assertThisInitialized(_this));\n    _this.onThumbnailPress = _this.onThumbnailPress.bind(assertThisInitialized(_this));\n    _this.onPrevButtonPress = _this.onPrevButtonPress.bind(assertThisInitialized(_this));\n    _this.onNextButtonPress = _this.onNextButtonPress.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Gallery, [{\n    key: \"onNextButtonPress\",\n    value: function onNextButtonPress() {\n      var nextButtonPressed = this.props.nextButtonPressed;\n      this.next();\n      nextButtonPressed();\n    }\n  }, {\n    key: \"onPrevButtonPress\",\n    value: function onPrevButtonPress() {\n      var prevButtonPressed = this.props.prevButtonPressed;\n      this.prev();\n      prevButtonPressed();\n    }\n  }, {\n    key: \"onPhotoLoad\",\n    value: function onPhotoLoad() {\n      return this.setState({\n        controlsDisabled: false\n      });\n    }\n  }, {\n    key: \"onPhotoError\",\n    value: function onPhotoError() {\n      return this.setState({\n        controlsDisabled: false\n      });\n    }\n  }, {\n    key: \"onPhotoPress\",\n    value: function onPhotoPress() {\n      var activePhotoPressed = this.props.activePhotoPressed;\n      this.move(DIRECTION_NEXT);\n      activePhotoPressed();\n    }\n  }, {\n    key: \"onTouchStart\",\n    value: function onTouchStart(event) {\n      this.setState({\n        touchStartInfo: event.targetTouches[0]\n      });\n    }\n  }, {\n    key: \"onTouchMove\",\n    value: function onTouchMove(event) {\n      this.setState({\n        touchMoved: true,\n        touchEndInfo: event.targetTouches[0]\n      });\n    }\n  }, {\n    key: \"onTouchEnd\",\n    value: function onTouchEnd() {\n      var _this$state = this.state,\n          touchStartInfo = _this$state.touchStartInfo,\n          touchEndInfo = _this$state.touchEndInfo,\n          touchMoved = _this$state.touchMoved;\n\n      if (touchMoved) {\n        if (touchStartInfo.screenX < touchEndInfo.screenX) {\n          this.onPrevButtonPress();\n        } else if (touchStartInfo.screenX > touchEndInfo.screenX) {\n          this.onNextButtonPress();\n        }\n      }\n\n      this.setState({\n        touchMoved: false\n      });\n    }\n  }, {\n    key: \"onThumbnailPress\",\n    value: function onThumbnailPress(index) {\n      this.to(index);\n    }\n  }, {\n    key: \"getPhotoByIndex\",\n    value: function getPhotoByIndex(index) {\n      var photos = this.props.photos;\n      return photos[index];\n    }\n  }, {\n    key: \"getItemByDirection\",\n    value: function getItemByDirection(direction, activeIndex) {\n      var _this$props2 = this.props,\n          photos = _this$props2.photos,\n          wrap = _this$props2.wrap;\n      var isNextDirection = direction === DIRECTION_NEXT;\n      var isPrevDirection = direction === DIRECTION_PREV;\n      var lastItemIndex = photos.length - 1;\n      var isGoingToWrap = isPrevDirection && activeIndex === 0 || isNextDirection && activeIndex === lastItemIndex;\n\n      if (isGoingToWrap && wrap) {\n        return activeIndex;\n      }\n\n      var delta = isPrevDirection ? -1 : 1;\n      var itemIndex = (activeIndex + delta) % photos.length;\n      return itemIndex === -1 ? photos.length - 1 : itemIndex;\n    }\n  }, {\n    key: \"getStyles\",\n    value: function getStyles() {\n      var backgroundColor = this.props.backgroundColor;\n      return {\n        backgroundColor: backgroundColor\n      };\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      return this.move(DIRECTION_PREV);\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      return this.move(DIRECTION_NEXT);\n    }\n  }, {\n    key: \"move\",\n    value: function move(direction) {\n      var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var activePhotoIndex = this.state.activePhotoIndex;\n      var nextElementIndex = index !== false ? index : this.getItemByDirection(direction, activePhotoIndex);\n      this.wrapCheck(direction, nextElementIndex);\n      this.setState({\n        activePhotoIndex: nextElementIndex\n      });\n    }\n  }, {\n    key: \"to\",\n    value: function to(index) {\n      var photos = this.props.photos;\n      var activePhotoIndex = this.state.activePhotoIndex;\n\n      if (index > photos.length - 1 || index < 0 || activePhotoIndex === index) {\n        return; // nothing to do\n      }\n\n      var direction = index > activePhotoIndex ? DIRECTION_NEXT : DIRECTION_PREV;\n      this.move(direction, index);\n    }\n  }, {\n    key: \"wrapCheck\",\n    value: function wrapCheck(direction, nextElementIndex) {\n      var _this$props3 = this.props,\n          photos = _this$props3.photos,\n          wrap = _this$props3.wrap;\n\n      if (wrap) {\n        this.setState({\n          hideNextButton: nextElementIndex === photos.length - 1,\n          hidePrevButton: nextElementIndex === 0\n        });\n      }\n    }\n  }, {\n    key: \"renderControls\",\n    value: function renderControls() {\n      var light = this.props.light;\n      var _this$state2 = this.state,\n          hidePrevButton = _this$state2.hidePrevButton,\n          hideNextButton = _this$state2.hideNextButton,\n          controlsDisabled = _this$state2.controlsDisabled;\n      var controls = [];\n\n      if (this.hasMoreThanOnePhoto) {\n        // previous control\n        if (!hidePrevButton) {\n          controls.push( /*#__PURE__*/React.createElement(PrevButton, {\n            key: \".prevControl\",\n            disabled: controlsDisabled,\n            onPress: this.onPrevButtonPress,\n            light: light\n          }));\n        } // next control\n\n\n        if (!hideNextButton) {\n          controls.push( /*#__PURE__*/React.createElement(NextButton, {\n            key: \".nextControl\",\n            disabled: controlsDisabled,\n            onPress: this.onNextButtonPress,\n            light: light\n          }));\n        }\n      }\n\n      return controls;\n    }\n  }, {\n    key: \"renderPreloadPhotos\",\n    value: function renderPreloadPhotos(current) {\n      var _this$props4 = this.props,\n          photos = _this$props4.photos,\n          preloadSize = _this$props4.preloadSize;\n      var counter = 1;\n      var index = current;\n      var photo = null;\n      var preloadPhotos = [];\n\n      while (index < photos.length && counter <= preloadSize) {\n        photo = photos[index];\n        preloadPhotos.push( /*#__PURE__*/React.createElement(\"img\", {\n          key: photo.photo,\n          alt: photo.photo,\n          src: photo.photo\n        }));\n        index += 1;\n        counter += 1;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          photos = _this$props5.photos,\n          showThumbnails = _this$props5.showThumbnails,\n          phrases = _this$props5.phrases;\n      var emptyMessage = phrases.noPhotosProvided;\n      var activePhotoIndex = this.state.activePhotoIndex; // preload photos\n\n      var galleryModalPreloadPhotos = this.renderPreloadPhotos(activePhotoIndex);\n      var controls = this.renderControls();\n      var current = this.getPhotoByIndex(activePhotoIndex);\n      var galleryStyles = this.getStyles();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery\",\n        style: galleryStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--preload\"\n      }, galleryModalPreloadPhotos), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-main\"\n      }, controls, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-photos\"\n      }, this.hasPhotos ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-photo\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-photo--current\"\n      }, /*#__PURE__*/React.createElement(Photo, {\n        photo: current,\n        onLoad: this.onPhotoLoad,\n        onError: this.onPhotoError,\n        onPress: this.onPhotoPress,\n        onTouchStart: this.onTouchStart,\n        onTouchMove: this.onTouchMove,\n        onTouchEnd: this.onTouchEnd\n      }))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-empty\"\n      }, emptyMessage))), showThumbnails && current && /*#__PURE__*/React.createElement(Caption, {\n        phrases: phrases,\n        current: activePhotoIndex,\n        photos: photos,\n        onPress: this.onThumbnailPress\n      }));\n    }\n  }]);\n  return Gallery;\n}(PureComponent);\n\nGallery.propTypes = propTypes$9;\nGallery.defaultProps = defaultProps$9;\n\nfunction ownKeys$5(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$5(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$5(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$5(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar CLOSE_PATH = 'm23.25 24c-.19 0-.38-.07-.53-.22l-10.72-10.72-10.72 10.72c-.29.29-.77.29-1.06 0s-.29-.77 0-1.06l10.72-10.72-10.72-10.72c-.29-.29-.29-.77 0-1.06s.77-.29 1.06 0l10.72 10.72 10.72-10.72c.29-.29.77-.29 1.06 0s .29.77 0 1.06l-10.72 10.72 10.72 10.72c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22';\nvar buttonStyle = {\n  height: '2em',\n  width: '2em',\n  display: 'block',\n  fill: NORMAL_COLOR\n};\nvar buttonStyleLight = {\n  fill: INVERSE_COLOR\n};\nvar propTypes$a = forbidExtraProps({\n  onPress: PropTypes.func,\n  light: PropTypes.bool\n});\nvar defaultProps$a = {\n  onPress: noop,\n  light: false\n};\n\nvar CloseButton = function CloseButton(_ref) {\n  var onPress = _ref.onPress,\n      light = _ref.light;\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onPress,\n    className: \"gallery-close\",\n    type: \"button\",\n    \"aria-busy\": false\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    role: \"img\",\n    focusable: \"false\",\n    style: _objectSpread$5(_objectSpread$5({}, buttonStyle), light && buttonStyleLight)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: CLOSE_PATH,\n    fillRule: \"evenodd\"\n  })));\n};\n\nCloseButton.propTypes = propTypes$a;\nCloseButton.defaultProps = defaultProps$a;\nvar MIN = 0;\nvar MAX = 1; // eslint-disable-next-line consistent-return\n\nfunction opacityValidation(props, propName) {\n  if (props[propName] < MIN || props[propName] > MAX) {\n    return new Error('Invalid value for opacity');\n  }\n}\n\nfunction ownKeys$6(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$6(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$6(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$6(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction processPhoto(photo, index) {\n  var props = typeof photo === 'string' ? {\n    number: index + 1,\n    photo: photo\n  } : _objectSpread$6(_objectSpread$6({}, photo), {}, {\n    number: index + 1\n  });\n  return _objectSpread$6(_objectSpread$6({}, defaultPhotoProps), props);\n}\n\nfunction getPhotos(photos) {\n  var photosToProcess = Object.prototype.toString.call(photos) === '[object Array]' ? photos : [photos];\n  return photosToProcess.map(processPhoto);\n}\n\nfunction _createSuper$9(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$9();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$9() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction ownKeys$7(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$7(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys$7(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys$7(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar propTypes$b = forbidExtraProps(_objectSpread$7(_objectSpread$7({}, galleryPropTypes), {}, {\n  leftKeyPressed: PropTypes.func,\n  onClose: PropTypes.func,\n  rightKeyPressed: PropTypes.func,\n  show: PropTypes.bool,\n  keyboard: PropTypes.bool,\n  opacity: opacityValidation,\n  zIndex: nonNegativeInteger\n}));\n\nvar defaultProps$b = _objectSpread$7(_objectSpread$7({}, galleryDefaultProps), {}, {\n  leftKeyPressed: noop,\n  onClose: noop,\n  rightKeyPressed: noop,\n  show: false,\n  keyboard: true,\n  opacity: DEFAULT_OPACITY,\n  zIndex: DEFAULT_Z_INDEX\n});\n\nvar ReactBnbGallery = /*#__PURE__*/function (_Component) {\n  inherits(ReactBnbGallery, _Component);\n\n  var _super = _createSuper$9(ReactBnbGallery);\n\n  function ReactBnbGallery(props) {\n    var _this;\n\n    classCallCheck(this, ReactBnbGallery);\n    _this = _super.call(this, props);\n    _this.state = {\n      photos: null\n    };\n    _this.gallery = /*#__PURE__*/React.createRef();\n    _this.close = _this.close.bind(assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(ReactBnbGallery, [{\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      if (/input|textarea/i.test(event.target.tagName)) {\n        return;\n      }\n\n      switch (event.which) {\n        case ESC_KEYCODE:\n          event.preventDefault();\n          this.close();\n          break;\n\n        case ARROW_LEFT_KEYCODE:\n          event.preventDefault();\n          this.gallery.current.prev();\n          break;\n\n        case ARROW_RIGHT_KEYCODE:\n          event.preventDefault();\n          this.gallery.current.next();\n          break;\n      }\n    }\n  }, {\n    key: \"getModalOverlayStyles\",\n    value: function getModalOverlayStyles() {\n      var _this$props = this.props,\n          opacity = _this$props.opacity,\n          backgroundColor = _this$props.backgroundColor;\n      return {\n        opacity: opacity,\n        backgroundColor: backgroundColor\n      };\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var onClose = this.props.onClose;\n      onClose();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          show = _this$props2.show,\n          phrases = _this$props2.phrases,\n          keyboard = _this$props2.keyboard,\n          light = _this$props2.light,\n          zIndex = _this$props2.zIndex;\n      var photos = this.state.photos;\n\n      if (!show) {\n        return null; // nothing to return\n      }\n\n      var _omit = omit(this.props, ['onClose', 'leftKeyPressed', 'rightKeyPressed', 'show', 'photos', 'opacity', 'backgroundColor', 'zIndex', 'keyboard']),\n          wrap = _omit.wrap,\n          activePhotoIndex = _omit.activePhotoIndex,\n          activePhotoPressed = _omit.activePhotoPressed,\n          direction = _omit.direction,\n          nextButtonPressed = _omit.nextButtonPressed,\n          prevButtonPressed = _omit.prevButtonPressed,\n          showThumbnails = _omit.showThumbnails,\n          preloadSize = _omit.preloadSize; // modal overlay customization styles\n\n\n      var galleryModalOverlayStyles = this.getModalOverlayStyles();\n      var modalStyle = {\n        zIndex: zIndex\n      };\n      return /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(FocusTrap, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames(['gallery-modal', light && 'mode-light']),\n        onKeyDown: keyboard && this.onKeyDown,\n        tabIndex: \"-1\",\n        role: \"dialog\",\n        style: modalStyle\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: galleryModalOverlayStyles,\n        className: \"gallery-modal--overlay\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--table\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--cell\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--content\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--close\"\n      }, /*#__PURE__*/React.createElement(CloseButton, {\n        onPress: this.close,\n        light: light\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-content\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-top\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-top--inner\"\n      })), /*#__PURE__*/React.createElement(Gallery, {\n        phrases: phrases,\n        ref: this.gallery,\n        photos: photos,\n        wrap: wrap,\n        activePhotoIndex: activePhotoIndex,\n        activePhotoPressed: activePhotoPressed,\n        direction: direction,\n        nextButtonPressed: nextButtonPressed,\n        prevButtonPressed: prevButtonPressed,\n        showThumbnails: showThumbnails,\n        preloadSize: preloadSize,\n        backgroundColor: null,\n        light: light\n      })))))))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.photos !== state.photos) {\n        return {\n          photos: getPhotos(props.photos)\n        };\n      }\n\n      return null;\n    }\n  }]);\n  return ReactBnbGallery;\n}(Component);\n\nReactBnbGallery.propTypes = propTypes$b;\nReactBnbGallery.defaultProps = defaultProps$b;\nexport default ReactBnbGallery;\nexport { Gallery, ReactBnbGallery };","map":{"version":3,"sources":["/Users/satyam/Desktop/iPicxel/ipicxel/client/node_modules/react-bnb-gallery/dist/index.es.js"],"names":["React","Component","PureComponent","PropTypes","FocusTrap","Portal","omit","classnames","forbidExtraProps","nonNegativeInteger","_classCallCheck","instance","Constructor","TypeError","classCallCheck","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","createClass","_assertThisInitialized","self","ReferenceError","assertThisInitialized","createCommonjsModule","fn","basedir","module","path","exports","require","base","commonjsRequire","undefined","Error","setPrototypeOf","_setPrototypeOf","o","p","__proto__","_inherits","subClass","superClass","create","constructor","value","inherits","_typeof_1","_typeof","obj","Symbol","iterator","_possibleConstructorReturn","call","possibleConstructorReturn","getPrototypeOf","_getPrototypeOf","_defineProperty","DIRECTION_PREV","DIRECTION_NEXT","FORWARDS","BACKWARDS","ARROW_LEFT_KEYCODE","ARROW_RIGHT_KEYCODE","ESC_KEYCODE","THUMBNAIL_WIDTH","THUMBNAIL_HEIGHT","THUMBNAIL_OFFSET","DEFAULT_OPACITY","DEFAULT_COLOR","NORMAL_COLOR","INVERSE_COLOR","DEFAULT_Z_INDEX","defaultPhotoProps","photo","number","caption","subcaption","thumbnail","SlideDirectionShape","oneOf","PhotoShape","shape","string","isRequired","PhotosShape","oneOfType","arrayOf","noPhotosProvided","showPhotoList","hidePhotoList","defaultPhrases","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defaultPhrases$1","reduce","phrases","func","node","galleryPropTypes","activePhotoIndex","activePhotoPressed","direction","nextButtonPressed","prevButtonPressed","showThumbnails","bool","photos","preloadSize","wrap","light","backgroundColor","noop","galleryDefaultProps","imagePropTypes","onLoad","onError","imageDefaultProps","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","objectWithoutPropertiesLoose","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","objectWithoutProperties","propTypes","show","defaultProps","LoadingSpinner","_ref","createElement","className","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","Reflect","construct","sham","Proxy","Date","toString","e","ownKeys$1","_objectSpread$1","propTypes$1","alt","src","style","array","defaultProps$1","defaultState","loading","withError","Image","_Component","_super","_this","state","currentSrc","bind","setState","renderImage","_this$props","_this$state","classNames","components","render","wrapperClassNames","picture","getDerivedStateFromProps","nextProps","prevState","_createSuper$1","_isNativeReflectConstruct$1","ownKeys$2","_objectSpread$2","propTypes$2","onPress","onTouchStart","onTouchMove","onTouchEnd","defaultProps$2","Photo","_PureComponent","renderPhoto","rest","_omit","type","onClick","photoRendered","_createSuper$2","_isNativeReflectConstruct$2","thumbnailStyle","width","height","propTypes$3","active","defaultProps$3","Thumbnail","disabled","_createSuper$3","_isNativeReflectConstruct$3","propTypes$4","isOpened","defaultProps$4","TogglePhotoList","_this$props$phrases","showLabel","hideLabel","label","calculateThumbnailsContainerDimension","total","calculateThumbnailsLeftScroll","current","bounding","half","thumbnailsOffset","calculatedScrollLeft","thumbnailsPerRow","thumbnailsHalf","Math","round","thumbnailsLeft","abs","_createSuper$4","_isNativeReflectConstruct$4","propTypes$5","defaultProps$5","Caption","thumbnailsWrapperRef","thumbnailsListRef","hasMoreThanOnePhoto","onThumbnailPress","setGalleryFigcaptionRef","setGalleryThubmanilsRef","toggleThumbnails","componentDidUpdate","prevProps","setThumbnailsWrapperScrollLeft","event","_this$props2","index","parseInt","currentTarget","dataset","photoIndex","getBoundingClientRect","scrollLeft","marginLeft","concat","getPhotoByIndex","element","renderThumbnail","_this2","_this$props3","currentPhoto","captionThumbnailsWrapperWidth","ref","map","ownKeys$3","_objectSpread$3","_createSuper$5","_isNativeReflectConstruct$5","controlStyle","fill","controlStyleLight","propTypes$6","arrow","defaultProps$6","Control","_React$PureComponent","onButtonPress","viewBox","role","focusable","d","fillRule","_createSuper$6","_isNativeReflectConstruct$6","PREV_ARROW","propTypes$7","defaultProps$7","PrevButton","_createSuper$7","_isNativeReflectConstruct$7","NEXT_ARROW","propTypes$8","defaultProps$8","NextButton","_createSuper$8","_isNativeReflectConstruct$8","ownKeys$4","_objectSpread$4","propTypes$9","defaultProps$9","Gallery","hidePrevButton","hideNextButton","controlsDisabled","touchStartInfo","touchEndInfo","touchMoved","lastPreloadIndex","preloadedPhotos","hasPhotos","move","prev","next","onPhotoLoad","onPhotoError","onPhotoPress","onPrevButtonPress","onNextButtonPress","targetTouches","screenX","to","getItemByDirection","activeIndex","isNextDirection","isPrevDirection","lastItemIndex","isGoingToWrap","delta","itemIndex","getStyles","nextElementIndex","wrapCheck","renderControls","_this$state2","controls","renderPreloadPhotos","_this$props4","counter","preloadPhotos","_this$props5","emptyMessage","galleryModalPreloadPhotos","galleryStyles","ownKeys$5","_objectSpread$5","CLOSE_PATH","buttonStyle","display","buttonStyleLight","propTypes$a","defaultProps$a","CloseButton","MIN","MAX","opacityValidation","propName","ownKeys$6","_objectSpread$6","processPhoto","getPhotos","photosToProcess","_createSuper$9","_isNativeReflectConstruct$9","ownKeys$7","_objectSpread$7","propTypes$b","leftKeyPressed","onClose","rightKeyPressed","keyboard","opacity","zIndex","defaultProps$b","ReactBnbGallery","gallery","createRef","close","onKeyDown","test","tagName","which","preventDefault","getModalOverlayStyles","galleryModalOverlayStyles","modalStyle","tabIndex"],"mappings":"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","sourcesContent":["import React, { Component, PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport FocusTrap from 'focus-trap-react';\nimport { Portal } from 'react-portal';\nimport omit from 'lodash/omit';\nimport classnames from 'classnames';\nimport { forbidExtraProps, nonNegativeInteger } from 'airbnb-prop-types';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar classCallCheck = _classCallCheck;\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar createClass = _createClass;\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar assertThisInitialized = _assertThisInitialized;\n\nfunction createCommonjsModule(fn, basedir, module) {\n\treturn module = {\n\t  path: basedir,\n\t  exports: {},\n\t  require: function (path, base) {\n      return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n    }\n\t}, fn(module, module.exports), module.exports;\n}\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nvar setPrototypeOf = createCommonjsModule(function (module) {\nfunction _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\n});\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nvar inherits = _inherits;\n\nvar _typeof_1 = createCommonjsModule(function (module) {\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n});\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof_1(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nvar possibleConstructorReturn = _possibleConstructorReturn;\n\nvar getPrototypeOf = createCommonjsModule(function (module) {\nfunction _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\n});\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defineProperty = _defineProperty;\n\nvar DIRECTION_PREV = 'prev';\nvar DIRECTION_NEXT = 'next';\nvar FORWARDS = 'forwards';\nvar BACKWARDS = 'backwards';\nvar ARROW_LEFT_KEYCODE = 37;\nvar ARROW_RIGHT_KEYCODE = 39;\nvar ESC_KEYCODE = 27;\nvar THUMBNAIL_WIDTH = 58;\nvar THUMBNAIL_HEIGHT = 50;\nvar THUMBNAIL_OFFSET = 8;\nvar DEFAULT_OPACITY = 1;\nvar DEFAULT_COLOR = 'rgba(0,0,0,1)';\nvar NORMAL_COLOR = 'rgba(255,255,255,1)';\nvar INVERSE_COLOR = 'rgba(1,1,1,1)';\nvar DEFAULT_Z_INDEX = 2000;\nvar defaultPhotoProps = {\n  photo: undefined,\n  number: undefined,\n  caption: undefined,\n  subcaption: undefined,\n  thumbnail: undefined\n};\n\nvar SlideDirectionShape = PropTypes.oneOf([FORWARDS, BACKWARDS]);\n\nvar PhotoShape = PropTypes.shape({\n  photo: PropTypes.string.isRequired,\n  number: PropTypes.number,\n  caption: PropTypes.string,\n  subcaption: PropTypes.string,\n  thumbnail: PropTypes.string\n});\n\nvar PhotosShape = PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.arrayOf(PropTypes.string.isRequired), PropTypes.arrayOf(PhotoShape)]);\n\nvar noPhotosProvided = 'No photos to show';\nvar showPhotoList = 'Show photo list';\nvar hidePhotoList = 'Hide photo list';\nvar defaultPhrases = {\n  noPhotosProvided: noPhotosProvided,\n  showPhotoList: showPhotoList,\n  hidePhotoList: hidePhotoList\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction defaultPhrases$1() {\n  return Object.keys(defaultPhrases$1).reduce(function (phrases, key) {\n    return _objectSpread(_objectSpread({}, phrases), {}, defineProperty({}, key, PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.node])));\n  }, {});\n}\n\nvar galleryPropTypes = forbidExtraProps({\n  activePhotoIndex: nonNegativeInteger,\n  activePhotoPressed: PropTypes.func,\n  direction: SlideDirectionShape,\n  nextButtonPressed: PropTypes.func,\n  prevButtonPressed: PropTypes.func,\n  showThumbnails: PropTypes.bool,\n  photos: PhotosShape,\n  preloadSize: nonNegativeInteger,\n  wrap: PropTypes.bool,\n  phrases: PropTypes.shape(defaultPhrases$1()),\n  light: PropTypes.bool,\n  backgroundColor: PropTypes.string\n});\n\nvar noop = (function () {});\n\nvar galleryDefaultProps = {\n  activePhotoIndex: 0,\n  activePhotoPressed: noop,\n  direction: FORWARDS,\n  nextButtonPressed: noop,\n  prevButtonPressed: noop,\n  showThumbnails: true,\n  photos: [],\n  preloadSize: 5,\n  wrap: false,\n  phrases: defaultPhrases,\n  light: false,\n  backgroundColor: DEFAULT_COLOR\n};\n\nvar imagePropTypes = forbidExtraProps({\n  onLoad: PropTypes.func,\n  onError: PropTypes.func\n});\n\nvar imageDefaultProps = {\n  onLoad: noop,\n  onError: noop\n};\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar objectWithoutPropertiesLoose = _objectWithoutPropertiesLoose;\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar objectWithoutProperties = _objectWithoutProperties;\n\nvar propTypes = forbidExtraProps({\n  show: PropTypes.bool\n});\nvar defaultProps = {\n  show: true\n};\n\nvar LoadingSpinner = function LoadingSpinner(_ref) {\n  var show = _ref.show;\n  return show && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loading-spinner\"\n  });\n};\n\nLoadingSpinner.propTypes = propTypes;\nLoadingSpinner.defaultProps = defaultProps;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar propTypes$1 = forbidExtraProps(_objectSpread$1(_objectSpread$1({}, imagePropTypes), {}, {\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  style: PropTypes.object,\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n}));\n\nvar defaultProps$1 = _objectSpread$1(_objectSpread$1({}, imageDefaultProps), {}, {\n  style: null,\n  className: null,\n  alt: ''\n});\n\nvar defaultState = {\n  loading: true,\n  withError: false\n};\n\nvar Image = /*#__PURE__*/function (_Component) {\n  inherits(Image, _Component);\n\n  var _super = _createSuper(Image);\n\n  function Image(props) {\n    var _this;\n\n    classCallCheck(this, Image);\n\n    _this = _super.call(this, props);\n    var src = props.src;\n    _this.state = _objectSpread$1({\n      currentSrc: src\n    }, defaultState);\n    _this.onLoad = _this.onLoad.bind(assertThisInitialized(_this));\n    _this.onError = _this.onError.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Image, [{\n    key: \"onLoad\",\n    value: function onLoad() {\n      var onLoad = this.props.onLoad;\n      onLoad();\n      this.setState({\n        loading: false,\n        withError: false\n      });\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      var onError = this.props.onError;\n      onError();\n      this.setState({\n        loading: false,\n        withError: true\n      });\n    }\n  }, {\n    key: \"renderImage\",\n    value: function renderImage() {\n      var _this$props = this.props,\n          alt = _this$props.alt,\n          src = _this$props.src,\n          style = _this$props.style,\n          className = _this$props.className;\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          withError = _this$state.withError;\n      var classNames = [className, 'media-image'];\n      var components = []; // the loading spinner\n      // TODO: make this 'LoadingSpinner' component customizable\n\n      if (loading) {\n        components.push( /*#__PURE__*/React.createElement(LoadingSpinner, {\n          key: \".pictureLoadingSpinner\"\n        }));\n      } // if no loading, then return the\n      // picture only if no error ocurred\n\n\n      if (!withError) {\n        components.push( /*#__PURE__*/React.createElement(\"img\", {\n          alt: alt,\n          key: \".pictureComponent\",\n          className: classnames(classNames),\n          onLoad: this.onLoad,\n          onError: this.onError,\n          src: src,\n          style: style\n        }));\n      } // TODO: show a custom message indicating the\n      // error ocurred while loading the picture\n\n\n      return components;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loading = this.state.loading;\n      var wrapperClassNames = ['picture', loading && 'loading']; // render the picture element\n\n      var picture = this.renderImage();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames(wrapperClassNames)\n      }, picture);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var src = nextProps.src;\n      var currentSrc = prevState.currentSrc;\n\n      if (src !== currentSrc) {\n        return _objectSpread$1({\n          currentSrc: src\n        }, defaultState);\n      }\n\n      return null;\n    }\n  }]);\n\n  return Image;\n}(Component);\n\nImage.propTypes = propTypes$1;\nImage.defaultProps = defaultProps$1;\n\nfunction _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$1() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar propTypes$2 = forbidExtraProps(_objectSpread$2(_objectSpread$2({}, imagePropTypes), {}, {\n  photo: PhotoShape,\n  onPress: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func\n}));\n\nvar defaultProps$2 = _objectSpread$2(_objectSpread$2({}, imageDefaultProps), {}, {\n  photo: null,\n  onPress: noop,\n  onTouchStart: noop,\n  onTouchMove: noop,\n  onTouchEnd: noop\n});\n\nvar Photo = /*#__PURE__*/function (_PureComponent) {\n  inherits(Photo, _PureComponent);\n\n  var _super = _createSuper$1(Photo);\n\n  function Photo(props) {\n    var _this;\n\n    classCallCheck(this, Photo);\n\n    _this = _super.call(this, props);\n    _this.onPress = _this.onPress.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Photo, [{\n    key: \"onPress\",\n    value: function onPress() {\n      var onPress = this.props.onPress;\n      onPress();\n    }\n  }, {\n    key: \"renderPhoto\",\n    value: function renderPhoto() {\n      var _this$props = this.props,\n          photo = _this$props.photo,\n          onTouchStart = _this$props.onTouchStart,\n          onTouchMove = _this$props.onTouchMove,\n          onTouchEnd = _this$props.onTouchEnd,\n          rest = objectWithoutProperties(_this$props, [\"photo\", \"onTouchStart\", \"onTouchMove\", \"onTouchEnd\"]);\n\n      if (!photo) {\n        return null;\n      }\n\n      var _omit = omit(rest, ['onPress']),\n          onLoad = _omit.onLoad,\n          onError = _omit.onError,\n          style = _omit.style;\n\n      return /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: this.onPress,\n        className: \"photo-button\",\n        onTouchStart: onTouchStart,\n        onTouchMove: onTouchMove,\n        onTouchEnd: onTouchEnd\n      }, /*#__PURE__*/React.createElement(Image, {\n        alt: photo.caption || '',\n        className: \"photo\",\n        src: photo.photo,\n        onLoad: onLoad,\n        onError: onError,\n        style: style\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = classnames('gallery-media-photo', 'gallery-media-photo--block', 'gallery-media-cover');\n      var photoRendered = this.renderPhoto();\n      return /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"gallery-images--ul\"\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: className\n      }, photoRendered));\n    }\n  }]);\n\n  return Photo;\n}(PureComponent);\n\nPhoto.propTypes = propTypes$2;\nPhoto.defaultProps = defaultProps$2;\n\nfunction _createSuper$2(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$2(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$2() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nvar thumbnailStyle = {\n  width: THUMBNAIL_WIDTH,\n  height: THUMBNAIL_HEIGHT\n};\nvar propTypes$3 = forbidExtraProps({\n  active: PropTypes.bool,\n  photo: PhotoShape,\n  onPress: PropTypes.func,\n  number: nonNegativeInteger\n});\nvar defaultProps$3 = {\n  active: false,\n  photo: null,\n  onPress: noop,\n  number: 0\n};\n\nvar Thumbnail = /*#__PURE__*/function (_PureComponent) {\n  inherits(Thumbnail, _PureComponent);\n\n  var _super = _createSuper$2(Thumbnail);\n\n  function Thumbnail() {\n    classCallCheck(this, Thumbnail);\n\n    return _super.apply(this, arguments);\n  }\n\n  createClass(Thumbnail, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          active = _this$props.active,\n          photo = _this$props.photo,\n          onPress = _this$props.onPress,\n          number = _this$props.number;\n      var className = classnames('thumbnail-button', active && 'active');\n      return /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        \"aria-label\": photo.caption,\n        className: className,\n        \"data-photo-index\": number,\n        onClick: onPress,\n        disabled: false\n      }, /*#__PURE__*/React.createElement(Image, {\n        alt: photo.caption,\n        src: photo.thumbnail || photo.photo,\n        className: \"thumbnail\",\n        style: thumbnailStyle\n      }));\n    }\n  }]);\n\n  return Thumbnail;\n}(PureComponent);\n\nThumbnail.propTypes = propTypes$3;\nThumbnail.defaultProps = defaultProps$3;\n\nfunction _createSuper$3(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$3(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$3() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nvar propTypes$4 = forbidExtraProps({\n  isOpened: PropTypes.bool,\n  onPress: PropTypes.func,\n  phrases: PropTypes.shape(defaultPhrases$1())\n});\nvar defaultProps$4 = {\n  isOpened: true,\n  onPress: noop,\n  phrases: defaultPhrases\n};\n\nvar TogglePhotoList = /*#__PURE__*/function (_PureComponent) {\n  inherits(TogglePhotoList, _PureComponent);\n\n  var _super = _createSuper$3(TogglePhotoList);\n\n  function TogglePhotoList() {\n    classCallCheck(this, TogglePhotoList);\n\n    return _super.apply(this, arguments);\n  }\n\n  createClass(TogglePhotoList, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          isOpened = _this$props.isOpened,\n          onPress = _this$props.onPress,\n          _this$props$phrases = _this$props.phrases,\n          showLabel = _this$props$phrases.showPhotoList,\n          hideLabel = _this$props$phrases.hidePhotoList;\n      var label = isOpened ? hideLabel : showLabel;\n      var className = classnames('gallery-thumbnails--toggle', isOpened ? 'hide' : 'open');\n      return /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: className,\n        onClick: onPress\n      }, label);\n    }\n  }]);\n\n  return TogglePhotoList;\n}(PureComponent);\n\nTogglePhotoList.propTypes = propTypes$4;\nTogglePhotoList.defaultProps = defaultProps$4;\n\nfunction calculateThumbnailsContainerDimension(total) {\n  return THUMBNAIL_WIDTH * total + (THUMBNAIL_OFFSET * total - THUMBNAIL_OFFSET);\n}\n\nfunction calculateThumbnailsLeftScroll(current, total, bounding) {\n  var half = bounding.width / 2 - THUMBNAIL_WIDTH / 2;\n  var thumbnailsOffset = current * THUMBNAIL_WIDTH + current * THUMBNAIL_OFFSET - half;\n  var calculatedScrollLeft = 0;\n\n  if (thumbnailsOffset < 0) {\n    return calculatedScrollLeft;\n  }\n\n  var thumbnailsPerRow = bounding.width / (THUMBNAIL_WIDTH + THUMBNAIL_OFFSET);\n  var thumbnailsHalf = Math.round(thumbnailsPerRow / 2);\n  var thumbnailsLeft = total - (current + 1);\n\n  if (thumbnailsLeft < thumbnailsHalf) {\n    calculatedScrollLeft = calculateThumbnailsContainerDimension(total) - bounding.width;\n  } else {\n    calculatedScrollLeft = thumbnailsOffset;\n  }\n\n  return -Math.abs(calculatedScrollLeft);\n}\n\nfunction _createSuper$4(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$4(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$4() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nvar propTypes$5 = forbidExtraProps({\n  showThumbnails: PropTypes.bool,\n  current: nonNegativeInteger,\n  photos: PhotosShape,\n  onPress: PropTypes.func,\n  phrases: PropTypes.shape(defaultPhrases$1())\n});\nvar defaultProps$5 = {\n  showThumbnails: true,\n  current: 0,\n  photos: [],\n  onPress: noop,\n  phrases: defaultPhrases\n};\n\nvar Caption = /*#__PURE__*/function (_PureComponent) {\n  inherits(Caption, _PureComponent);\n\n  var _super = _createSuper$4(Caption);\n\n  function Caption(props) {\n    var _this;\n\n    classCallCheck(this, Caption);\n\n    _this = _super.call(this, props);\n    var _this$props = _this.props,\n        showThumbnails = _this$props.showThumbnails,\n        photos = _this$props.photos;\n    _this.state = {\n      showThumbnails: showThumbnails\n    };\n    _this.thumbnailsWrapperRef = null;\n    _this.thumbnailsListRef = null;\n    _this.hasMoreThanOnePhoto = photos.length > 1;\n    _this.onThumbnailPress = _this.onThumbnailPress.bind(assertThisInitialized(_this));\n    _this.setGalleryFigcaptionRef = _this.setGalleryFigcaptionRef.bind(assertThisInitialized(_this));\n    _this.setGalleryThubmanilsRef = _this.setGalleryThubmanilsRef.bind(assertThisInitialized(_this));\n    _this.toggleThumbnails = _this.toggleThumbnails.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Caption, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var current = this.props.current;\n\n      if (current !== prevProps.current) {\n        this.setThumbnailsWrapperScrollLeft(current);\n      }\n    }\n  }, {\n    key: \"onThumbnailPress\",\n    value: function onThumbnailPress(event) {\n      var _this$props2 = this.props,\n          onPress = _this$props2.onPress,\n          photos = _this$props2.photos;\n      var index = parseInt(event.currentTarget.dataset.photoIndex, 10);\n\n      if (index >= 0 && index <= photos.length - 1) {\n        onPress(index);\n      }\n    }\n  }, {\n    key: \"setThumbnailsWrapperScrollLeft\",\n    value: function setThumbnailsWrapperScrollLeft(current) {\n      var photos = this.props.photos;\n      var bounding = this.thumbnailsWrapperRef.getBoundingClientRect();\n      var scrollLeft = calculateThumbnailsLeftScroll(current, photos.length, bounding);\n      this.thumbnailsListRef.style.marginLeft = \"\".concat(scrollLeft, \"px\");\n    }\n  }, {\n    key: \"getPhotoByIndex\",\n    value: function getPhotoByIndex(index) {\n      var photos = this.props.photos;\n      return photos[index];\n    }\n  }, {\n    key: \"setGalleryFigcaptionRef\",\n    value: function setGalleryFigcaptionRef(element) {\n      this.thumbnailsWrapperRef = element;\n    }\n  }, {\n    key: \"setGalleryThubmanilsRef\",\n    value: function setGalleryThubmanilsRef(element) {\n      this.thumbnailsListRef = element;\n    }\n  }, {\n    key: \"toggleThumbnails\",\n    value: function toggleThumbnails() {\n      this.setState(function (prevState) {\n        return {\n          showThumbnails: !prevState.showThumbnails\n        };\n      });\n    }\n  }, {\n    key: \"renderThumbnail\",\n    value: function renderThumbnail(photo, index, onPress) {\n      var current = this.props.current;\n      return /*#__PURE__*/React.createElement(Thumbnail, {\n        active: index === current,\n        photo: photo,\n        onPress: onPress,\n        number: index\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          current = _this$props3.current,\n          photos = _this$props3.photos,\n          phrases = _this$props3.phrases;\n      var showThumbnails = this.state.showThumbnails;\n      var className = classnames('gallery-figcaption', !showThumbnails && 'hide');\n      var currentPhoto = this.getPhotoByIndex(current);\n      var captionThumbnailsWrapperWidth = calculateThumbnailsContainerDimension(photos.length);\n      return /*#__PURE__*/React.createElement(\"figcaption\", {\n        className: className\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-figcaption--content\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-figcaption--inner\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-figcaption--info\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"caption-left\"\n      }, currentPhoto.caption && /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"photo-caption\"\n      }, currentPhoto.caption), currentPhoto.subcaption && /*#__PURE__*/React.createElement(\"p\", {\n        className: \"photo-subcaption\"\n      }, currentPhoto.subcaption)), this.hasMoreThanOnePhoto && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"caption-right\"\n      }, /*#__PURE__*/React.createElement(TogglePhotoList, {\n        phrases: phrases,\n        isOpened: showThumbnails,\n        onPress: this.toggleThumbnails\n      }))), this.hasMoreThanOnePhoto && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-figcaption--thumbnails\",\n        \"aria-hidden\": false,\n        ref: this.setGalleryFigcaptionRef\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"caption-thumbnails\",\n        style: {\n          width: captionThumbnailsWrapperWidth\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"thumbnails-list\",\n        ref: this.setGalleryThubmanilsRef\n      }, photos.map(function (photo, index) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: photo.photo\n        }, _this2.renderThumbnail(photo, index, _this2.onThumbnailPress));\n      })))))));\n    }\n  }]);\n\n  return Caption;\n}(PureComponent);\n\nCaption.propTypes = propTypes$5;\nCaption.defaultProps = defaultProps$5;\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper$5(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$5(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$5() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nvar controlStyle = {\n  height: '2.8em',\n  width: '2.8em',\n  fill: NORMAL_COLOR\n};\nvar controlStyleLight = {\n  fill: INVERSE_COLOR\n};\nvar propTypes$6 = forbidExtraProps({\n  arrow: PropTypes.string,\n  onPress: PropTypes.func,\n  label: PropTypes.string,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool\n});\nvar defaultProps$6 = {\n  arrow: null,\n  onPress: noop,\n  label: '',\n  className: null,\n  disabled: false,\n  light: false\n};\n\nvar Control = /*#__PURE__*/function (_React$PureComponent) {\n  inherits(Control, _React$PureComponent);\n\n  var _super = _createSuper$5(Control);\n\n  function Control(props) {\n    var _this;\n\n    classCallCheck(this, Control);\n\n    _this = _super.call(this, props);\n    _this.onButtonPress = _this.onButtonPress.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Control, [{\n    key: \"onButtonPress\",\n    value: function onButtonPress() {\n      var onPress = this.props.onPress;\n      onPress();\n      return false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          arrow = _this$props.arrow,\n          label = _this$props.label,\n          className = _this$props.className,\n          disabled = _this$props.disabled,\n          light = _this$props.light;\n      return /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: classnames('gallery-control', className),\n        onClick: this.onButtonPress,\n        disabled: disabled,\n        \"aria-label\": label\n      }, /*#__PURE__*/React.createElement(\"svg\", {\n        viewBox: \"0 0 18 18\",\n        role: \"presentation\",\n        focusable: \"false\",\n        \"aria-hidden\": \"true\",\n        style: _objectSpread$3(_objectSpread$3({}, controlStyle), light && controlStyleLight)\n      }, /*#__PURE__*/React.createElement(\"path\", {\n        d: arrow,\n        fillRule: \"evenodd\"\n      })));\n    }\n  }]);\n\n  return Control;\n}(React.PureComponent);\n\nControl.propTypes = propTypes$6;\nControl.defaultProps = defaultProps$6;\n\nfunction _createSuper$6(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$6(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$6() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nvar PREV_ARROW = 'm13.7 16.29a1 1 0 1 1 -1.42 1.41l-8-8a1 1 0 0 1 0-1.41l8-8a1 1 0 1 1 1.42 1.41l-7.29 7.29z';\nvar propTypes$7 = forbidExtraProps({\n  onPress: PropTypes.func,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool\n});\nvar defaultProps$7 = {\n  onPress: noop,\n  disabled: false,\n  light: false\n};\n\nvar PrevButton = /*#__PURE__*/function (_PureComponent) {\n  inherits(PrevButton, _PureComponent);\n\n  var _super = _createSuper$6(PrevButton);\n\n  function PrevButton() {\n    classCallCheck(this, PrevButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  createClass(PrevButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onPress = _this$props.onPress,\n          disabled = _this$props.disabled,\n          light = _this$props.light;\n      return /*#__PURE__*/React.createElement(Control, {\n        className: \"gallery-control--prev\",\n        onPress: onPress,\n        arrow: PREV_ARROW,\n        disabled: disabled,\n        light: light\n      });\n    }\n  }]);\n\n  return PrevButton;\n}(PureComponent);\n\nPrevButton.propTypes = propTypes$7;\nPrevButton.defaultProps = defaultProps$7;\n\nfunction _createSuper$7(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$7(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$7() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nvar NEXT_ARROW = 'm4.29 1.71a1 1 0 1 1 1.42-1.41l8 8a1 1 0 0 1 0 1.41l-8 8a1 1 0 1 1 -1.42-1.41l7.29-7.29z';\nvar propTypes$8 = forbidExtraProps({\n  onPress: PropTypes.func,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool\n});\nvar defaultProps$8 = {\n  onPress: noop,\n  disabled: false,\n  light: false\n};\n\nvar NextButton = /*#__PURE__*/function (_PureComponent) {\n  inherits(NextButton, _PureComponent);\n\n  var _super = _createSuper$7(NextButton);\n\n  function NextButton() {\n    classCallCheck(this, NextButton);\n\n    return _super.apply(this, arguments);\n  }\n\n  createClass(NextButton, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onPress = _this$props.onPress,\n          disabled = _this$props.disabled,\n          light = _this$props.light;\n      return /*#__PURE__*/React.createElement(Control, {\n        className: \"gallery-control--next\",\n        onPress: onPress,\n        arrow: NEXT_ARROW,\n        disabled: disabled,\n        light: light\n      });\n    }\n  }]);\n\n  return NextButton;\n}(PureComponent);\n\nNextButton.propTypes = propTypes$8;\nNextButton.defaultProps = defaultProps$8;\n\nfunction _createSuper$8(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$8(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$8() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar propTypes$9 = _objectSpread$4({}, galleryPropTypes);\n\nvar defaultProps$9 = _objectSpread$4({}, galleryDefaultProps);\n\nvar Gallery = /*#__PURE__*/function (_PureComponent) {\n  inherits(Gallery, _PureComponent);\n\n  var _super = _createSuper$8(Gallery);\n\n  function Gallery(props) {\n    var _this;\n\n    classCallCheck(this, Gallery);\n\n    _this = _super.call(this, props);\n    var _this$props = _this.props,\n        activePhotoIndex = _this$props.activePhotoIndex,\n        photos = _this$props.photos,\n        wrap = _this$props.wrap;\n    _this.state = {\n      activePhotoIndex: activePhotoIndex,\n      hidePrevButton: wrap && activePhotoIndex === 0,\n      hideNextButton: wrap && activePhotoIndex === photos.length - 1,\n      controlsDisabled: true,\n      touchStartInfo: null,\n      touchEndInfo: null,\n      touchMoved: false\n    };\n    _this.lastPreloadIndex = 0;\n    _this.preloadedPhotos = [];\n    _this.hasPhotos = photos.length > 0;\n    _this.hasMoreThanOnePhoto = photos.length > 1;\n    _this.move = _this.move.bind(assertThisInitialized(_this));\n    _this.prev = _this.prev.bind(assertThisInitialized(_this));\n    _this.next = _this.next.bind(assertThisInitialized(_this));\n    _this.onPhotoLoad = _this.onPhotoLoad.bind(assertThisInitialized(_this));\n    _this.onPhotoError = _this.onPhotoError.bind(assertThisInitialized(_this));\n    _this.onPhotoPress = _this.onPhotoPress.bind(assertThisInitialized(_this));\n    _this.onTouchStart = _this.onTouchStart.bind(assertThisInitialized(_this));\n    _this.onTouchMove = _this.onTouchMove.bind(assertThisInitialized(_this));\n    _this.onTouchEnd = _this.onTouchEnd.bind(assertThisInitialized(_this));\n    _this.onThumbnailPress = _this.onThumbnailPress.bind(assertThisInitialized(_this));\n    _this.onPrevButtonPress = _this.onPrevButtonPress.bind(assertThisInitialized(_this));\n    _this.onNextButtonPress = _this.onNextButtonPress.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(Gallery, [{\n    key: \"onNextButtonPress\",\n    value: function onNextButtonPress() {\n      var nextButtonPressed = this.props.nextButtonPressed;\n      this.next();\n      nextButtonPressed();\n    }\n  }, {\n    key: \"onPrevButtonPress\",\n    value: function onPrevButtonPress() {\n      var prevButtonPressed = this.props.prevButtonPressed;\n      this.prev();\n      prevButtonPressed();\n    }\n  }, {\n    key: \"onPhotoLoad\",\n    value: function onPhotoLoad() {\n      return this.setState({\n        controlsDisabled: false\n      });\n    }\n  }, {\n    key: \"onPhotoError\",\n    value: function onPhotoError() {\n      return this.setState({\n        controlsDisabled: false\n      });\n    }\n  }, {\n    key: \"onPhotoPress\",\n    value: function onPhotoPress() {\n      var activePhotoPressed = this.props.activePhotoPressed;\n      this.move(DIRECTION_NEXT);\n      activePhotoPressed();\n    }\n  }, {\n    key: \"onTouchStart\",\n    value: function onTouchStart(event) {\n      this.setState({\n        touchStartInfo: event.targetTouches[0]\n      });\n    }\n  }, {\n    key: \"onTouchMove\",\n    value: function onTouchMove(event) {\n      this.setState({\n        touchMoved: true,\n        touchEndInfo: event.targetTouches[0]\n      });\n    }\n  }, {\n    key: \"onTouchEnd\",\n    value: function onTouchEnd() {\n      var _this$state = this.state,\n          touchStartInfo = _this$state.touchStartInfo,\n          touchEndInfo = _this$state.touchEndInfo,\n          touchMoved = _this$state.touchMoved;\n\n      if (touchMoved) {\n        if (touchStartInfo.screenX < touchEndInfo.screenX) {\n          this.onPrevButtonPress();\n        } else if (touchStartInfo.screenX > touchEndInfo.screenX) {\n          this.onNextButtonPress();\n        }\n      }\n\n      this.setState({\n        touchMoved: false\n      });\n    }\n  }, {\n    key: \"onThumbnailPress\",\n    value: function onThumbnailPress(index) {\n      this.to(index);\n    }\n  }, {\n    key: \"getPhotoByIndex\",\n    value: function getPhotoByIndex(index) {\n      var photos = this.props.photos;\n      return photos[index];\n    }\n  }, {\n    key: \"getItemByDirection\",\n    value: function getItemByDirection(direction, activeIndex) {\n      var _this$props2 = this.props,\n          photos = _this$props2.photos,\n          wrap = _this$props2.wrap;\n      var isNextDirection = direction === DIRECTION_NEXT;\n      var isPrevDirection = direction === DIRECTION_PREV;\n      var lastItemIndex = photos.length - 1;\n      var isGoingToWrap = isPrevDirection && activeIndex === 0 || isNextDirection && activeIndex === lastItemIndex;\n\n      if (isGoingToWrap && wrap) {\n        return activeIndex;\n      }\n\n      var delta = isPrevDirection ? -1 : 1;\n      var itemIndex = (activeIndex + delta) % photos.length;\n      return itemIndex === -1 ? photos.length - 1 : itemIndex;\n    }\n  }, {\n    key: \"getStyles\",\n    value: function getStyles() {\n      var backgroundColor = this.props.backgroundColor;\n      return {\n        backgroundColor: backgroundColor\n      };\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      return this.move(DIRECTION_PREV);\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      return this.move(DIRECTION_NEXT);\n    }\n  }, {\n    key: \"move\",\n    value: function move(direction) {\n      var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var activePhotoIndex = this.state.activePhotoIndex;\n      var nextElementIndex = index !== false ? index : this.getItemByDirection(direction, activePhotoIndex);\n      this.wrapCheck(direction, nextElementIndex);\n      this.setState({\n        activePhotoIndex: nextElementIndex\n      });\n    }\n  }, {\n    key: \"to\",\n    value: function to(index) {\n      var photos = this.props.photos;\n      var activePhotoIndex = this.state.activePhotoIndex;\n\n      if (index > photos.length - 1 || index < 0 || activePhotoIndex === index) {\n        return; // nothing to do\n      }\n\n      var direction = index > activePhotoIndex ? DIRECTION_NEXT : DIRECTION_PREV;\n      this.move(direction, index);\n    }\n  }, {\n    key: \"wrapCheck\",\n    value: function wrapCheck(direction, nextElementIndex) {\n      var _this$props3 = this.props,\n          photos = _this$props3.photos,\n          wrap = _this$props3.wrap;\n\n      if (wrap) {\n        this.setState({\n          hideNextButton: nextElementIndex === photos.length - 1,\n          hidePrevButton: nextElementIndex === 0\n        });\n      }\n    }\n  }, {\n    key: \"renderControls\",\n    value: function renderControls() {\n      var light = this.props.light;\n      var _this$state2 = this.state,\n          hidePrevButton = _this$state2.hidePrevButton,\n          hideNextButton = _this$state2.hideNextButton,\n          controlsDisabled = _this$state2.controlsDisabled;\n      var controls = [];\n\n      if (this.hasMoreThanOnePhoto) {\n        // previous control\n        if (!hidePrevButton) {\n          controls.push( /*#__PURE__*/React.createElement(PrevButton, {\n            key: \".prevControl\",\n            disabled: controlsDisabled,\n            onPress: this.onPrevButtonPress,\n            light: light\n          }));\n        } // next control\n\n\n        if (!hideNextButton) {\n          controls.push( /*#__PURE__*/React.createElement(NextButton, {\n            key: \".nextControl\",\n            disabled: controlsDisabled,\n            onPress: this.onNextButtonPress,\n            light: light\n          }));\n        }\n      }\n\n      return controls;\n    }\n  }, {\n    key: \"renderPreloadPhotos\",\n    value: function renderPreloadPhotos(current) {\n      var _this$props4 = this.props,\n          photos = _this$props4.photos,\n          preloadSize = _this$props4.preloadSize;\n      var counter = 1;\n      var index = current;\n      var photo = null;\n      var preloadPhotos = [];\n\n      while (index < photos.length && counter <= preloadSize) {\n        photo = photos[index];\n        preloadPhotos.push( /*#__PURE__*/React.createElement(\"img\", {\n          key: photo.photo,\n          alt: photo.photo,\n          src: photo.photo\n        }));\n        index += 1;\n        counter += 1;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n          photos = _this$props5.photos,\n          showThumbnails = _this$props5.showThumbnails,\n          phrases = _this$props5.phrases;\n      var emptyMessage = phrases.noPhotosProvided;\n      var activePhotoIndex = this.state.activePhotoIndex; // preload photos\n\n      var galleryModalPreloadPhotos = this.renderPreloadPhotos(activePhotoIndex);\n      var controls = this.renderControls();\n      var current = this.getPhotoByIndex(activePhotoIndex);\n      var galleryStyles = this.getStyles();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery\",\n        style: galleryStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--preload\"\n      }, galleryModalPreloadPhotos), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-main\"\n      }, controls, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-photos\"\n      }, this.hasPhotos ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-photo\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-photo--current\"\n      }, /*#__PURE__*/React.createElement(Photo, {\n        photo: current,\n        onLoad: this.onPhotoLoad,\n        onError: this.onPhotoError,\n        onPress: this.onPhotoPress,\n        onTouchStart: this.onTouchStart,\n        onTouchMove: this.onTouchMove,\n        onTouchEnd: this.onTouchEnd\n      }))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-empty\"\n      }, emptyMessage))), showThumbnails && current && /*#__PURE__*/React.createElement(Caption, {\n        phrases: phrases,\n        current: activePhotoIndex,\n        photos: photos,\n        onPress: this.onThumbnailPress\n      }));\n    }\n  }]);\n\n  return Gallery;\n}(PureComponent);\n\nGallery.propTypes = propTypes$9;\nGallery.defaultProps = defaultProps$9;\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar CLOSE_PATH = 'm23.25 24c-.19 0-.38-.07-.53-.22l-10.72-10.72-10.72 10.72c-.29.29-.77.29-1.06 0s-.29-.77 0-1.06l10.72-10.72-10.72-10.72c-.29-.29-.29-.77 0-1.06s.77-.29 1.06 0l10.72 10.72 10.72-10.72c.29-.29.77-.29 1.06 0s .29.77 0 1.06l-10.72 10.72 10.72 10.72c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22';\nvar buttonStyle = {\n  height: '2em',\n  width: '2em',\n  display: 'block',\n  fill: NORMAL_COLOR\n};\nvar buttonStyleLight = {\n  fill: INVERSE_COLOR\n};\nvar propTypes$a = forbidExtraProps({\n  onPress: PropTypes.func,\n  light: PropTypes.bool\n});\nvar defaultProps$a = {\n  onPress: noop,\n  light: false\n};\n\nvar CloseButton = function CloseButton(_ref) {\n  var onPress = _ref.onPress,\n      light = _ref.light;\n  return /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onPress,\n    className: \"gallery-close\",\n    type: \"button\",\n    \"aria-busy\": false\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 24 24\",\n    role: \"img\",\n    focusable: \"false\",\n    style: _objectSpread$5(_objectSpread$5({}, buttonStyle), light && buttonStyleLight)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: CLOSE_PATH,\n    fillRule: \"evenodd\"\n  })));\n};\n\nCloseButton.propTypes = propTypes$a;\nCloseButton.defaultProps = defaultProps$a;\n\nvar MIN = 0;\nvar MAX = 1; // eslint-disable-next-line consistent-return\n\nfunction opacityValidation(props, propName) {\n  if (props[propName] < MIN || props[propName] > MAX) {\n    return new Error('Invalid value for opacity');\n  }\n}\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nfunction processPhoto(photo, index) {\n  var props = typeof photo === 'string' ? {\n    number: index + 1,\n    photo: photo\n  } : _objectSpread$6(_objectSpread$6({}, photo), {}, {\n    number: index + 1\n  });\n  return _objectSpread$6(_objectSpread$6({}, defaultPhotoProps), props);\n}\nfunction getPhotos(photos) {\n  var photosToProcess = Object.prototype.toString.call(photos) === '[object Array]' ? photos : [photos];\n  return photosToProcess.map(processPhoto);\n}\n\nfunction _createSuper$9(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$9(); return function _createSuperInternal() { var Super = getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$9() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$7(Object(source), true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar propTypes$b = forbidExtraProps(_objectSpread$7(_objectSpread$7({}, galleryPropTypes), {}, {\n  leftKeyPressed: PropTypes.func,\n  onClose: PropTypes.func,\n  rightKeyPressed: PropTypes.func,\n  show: PropTypes.bool,\n  keyboard: PropTypes.bool,\n  opacity: opacityValidation,\n  zIndex: nonNegativeInteger\n}));\n\nvar defaultProps$b = _objectSpread$7(_objectSpread$7({}, galleryDefaultProps), {}, {\n  leftKeyPressed: noop,\n  onClose: noop,\n  rightKeyPressed: noop,\n  show: false,\n  keyboard: true,\n  opacity: DEFAULT_OPACITY,\n  zIndex: DEFAULT_Z_INDEX\n});\n\nvar ReactBnbGallery = /*#__PURE__*/function (_Component) {\n  inherits(ReactBnbGallery, _Component);\n\n  var _super = _createSuper$9(ReactBnbGallery);\n\n  function ReactBnbGallery(props) {\n    var _this;\n\n    classCallCheck(this, ReactBnbGallery);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      photos: null\n    };\n    _this.gallery = /*#__PURE__*/React.createRef();\n    _this.close = _this.close.bind(assertThisInitialized(_this));\n    _this.onKeyDown = _this.onKeyDown.bind(assertThisInitialized(_this));\n    return _this;\n  }\n\n  createClass(ReactBnbGallery, [{\n    key: \"onKeyDown\",\n    value: function onKeyDown(event) {\n      if (/input|textarea/i.test(event.target.tagName)) {\n        return;\n      }\n\n      switch (event.which) {\n        case ESC_KEYCODE:\n          event.preventDefault();\n          this.close();\n          break;\n\n        case ARROW_LEFT_KEYCODE:\n          event.preventDefault();\n          this.gallery.current.prev();\n          break;\n\n        case ARROW_RIGHT_KEYCODE:\n          event.preventDefault();\n          this.gallery.current.next();\n          break;\n      }\n    }\n  }, {\n    key: \"getModalOverlayStyles\",\n    value: function getModalOverlayStyles() {\n      var _this$props = this.props,\n          opacity = _this$props.opacity,\n          backgroundColor = _this$props.backgroundColor;\n      return {\n        opacity: opacity,\n        backgroundColor: backgroundColor\n      };\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var onClose = this.props.onClose;\n      onClose();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          show = _this$props2.show,\n          phrases = _this$props2.phrases,\n          keyboard = _this$props2.keyboard,\n          light = _this$props2.light,\n          zIndex = _this$props2.zIndex;\n      var photos = this.state.photos;\n\n      if (!show) {\n        return null; // nothing to return\n      }\n\n      var _omit = omit(this.props, ['onClose', 'leftKeyPressed', 'rightKeyPressed', 'show', 'photos', 'opacity', 'backgroundColor', 'zIndex', 'keyboard']),\n          wrap = _omit.wrap,\n          activePhotoIndex = _omit.activePhotoIndex,\n          activePhotoPressed = _omit.activePhotoPressed,\n          direction = _omit.direction,\n          nextButtonPressed = _omit.nextButtonPressed,\n          prevButtonPressed = _omit.prevButtonPressed,\n          showThumbnails = _omit.showThumbnails,\n          preloadSize = _omit.preloadSize; // modal overlay customization styles\n\n\n      var galleryModalOverlayStyles = this.getModalOverlayStyles();\n      var modalStyle = {\n        zIndex: zIndex\n      };\n      return /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(FocusTrap, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames(['gallery-modal', light && 'mode-light']),\n        onKeyDown: keyboard && this.onKeyDown,\n        tabIndex: \"-1\",\n        role: \"dialog\",\n        style: modalStyle\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: galleryModalOverlayStyles,\n        className: \"gallery-modal--overlay\"\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--table\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--cell\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--content\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-modal--close\"\n      }, /*#__PURE__*/React.createElement(CloseButton, {\n        onPress: this.close,\n        light: light\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-content\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-top\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"gallery-top--inner\"\n      })), /*#__PURE__*/React.createElement(Gallery, {\n        phrases: phrases,\n        ref: this.gallery,\n        photos: photos,\n        wrap: wrap,\n        activePhotoIndex: activePhotoIndex,\n        activePhotoPressed: activePhotoPressed,\n        direction: direction,\n        nextButtonPressed: nextButtonPressed,\n        prevButtonPressed: prevButtonPressed,\n        showThumbnails: showThumbnails,\n        preloadSize: preloadSize,\n        backgroundColor: null,\n        light: light\n      })))))))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.photos !== state.photos) {\n        return {\n          photos: getPhotos(props.photos)\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return ReactBnbGallery;\n}(Component);\n\nReactBnbGallery.propTypes = propTypes$b;\nReactBnbGallery.defaultProps = defaultProps$b;\n\nexport default ReactBnbGallery;\nexport { Gallery, ReactBnbGallery };\n"]},"metadata":{},"sourceType":"module"}